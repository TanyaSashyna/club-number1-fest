$newsletter-bar-bg: lighten($color-black, 94.12);

.newsletter-bar {
    margin: 1rem 0 8rem;

    @include breakpoint(medium down) {
        margin: 3rem 0 5rem;
    }

    @include breakpoint(small down) {
        margin: 2rem 0 4.5rem;
    }

    &__wrap {
        align-items: flex-end;
        background-color: $newsletter-bar-bg;
        display: flex;
        position: relative;

        @include breakpoint(medium down) {
            padding: 0 0 7.5rem;
        }

        @include breakpoint(small down) {
            align-items: center;
            flex-direction: column;
        }

        &.-has-shadow {
            @include section-shadow();
        }
    }

    &__title {
        $fa-var-paper-plane-icon: \E044;
        @include icon-before($fa-var-paper-plane-icon);

        color: $color-black;
        font-family: $typo-1;
        font-size: 2.6rem;
        font-weight: $black;
        line-height: 1.25;
        margin: 0;
        overflow: hidden;
        padding: 1.3rem 1rem 1.4rem 12rem;
        position: relative;

        @include breakpoint(medium down) {
            font-size: 2rem;
            padding: 2rem 2.5rem 2rem 11.5rem;
        }

        @include breakpoint(small down) {
            font-size: 1.9rem;
            margin-bottom: 4.5rem;
            max-width: 100%;
            padding: 1.8rem 2.5rem 1.8rem 12.5rem;
            width: 100%;
        }

        &::before {
            @include absolute(1.1rem, null, null, 0);
            @include size(3.7rem);

            align-items: center;
            bottom: 50%;
            color: $color-white;
            display: flex;
            font-family: $icon-custom;
            font-size: 3.7rem;
            font-weight: $light;
            height: 12.5rem;
            justify-content: center;
            left: 0;
            margin-right: 1rem;
            top: 50%;
            transform: translate(-5%,-50%);
            width: 10.5rem;
            z-index: 2;

            @include breakpoint(medium down) {
                transform: translate(-5%,-55%);
            }

            @include breakpoint(small down) {
                height: 11.3rem;
                transform: translate(-5%,-55%);
                width: 7.5rem;
            }
        }

        &:after {
            background: $color-2--1;
            box-shadow: 0 0 15px rgba(0,0,0,0.5);
            content: '';
            display: block;
            height: 15rem;
            left: -2rem;
            position: absolute;
            top: 0;
            transform: rotate(15deg);
            width: 10.5rem;

            @include breakpoint(medium down) {
                left: -2rem;
                top: 0.5rem;
                transform: rotate(25deg)skew(15deg);
                width: 11.5rem;
            }

            @include breakpoint(small down) {
                height: 11.3rem;
                left: -0.5rem;
                top: -0.5rem;
                transform: rotate(-5deg)skew(0deg);
                width: 8rem;
            }
        }
    }

    &__subtitle {
        display: block;
        font-size: 1.4rem;
        font-weight: $normal;
        line-height: 1.25;
        margin: 0;
        text-transform: none;
    }

    &__form {
        flex-grow: 1;
        margin: 0;
        padding-left: 6.5rem;

        @include breakpoint(medium down) {
            padding-left: 0.5rem;
        }

        @include breakpoint(small down) {
            padding-left: 0;
            width: calc(100% - 4rem);
        }
    }

    &__fields {
        align-items: center;
        display: flex;

        @include breakpoint(medium down) {
            align-items: flex-start;
            flex-direction: column;
        }
    }

    &__field {
        &.-input {
            align-items: flex-start;
            display: flex;
            flex-direction: column;
            flex-grow: 1;

            @include breakpoint(medium down) {
                width: calc(100% - 3rem);
            }

            @include breakpoint(small down) {
                align-items: flex-start;
                flex-direction: column;
                width: 100%;
            }

            label {
                color: $color-black;
                cursor: pointer;
                display: block;
                flex-shrink: 0;
                font-family: $typo-1;
                font-size: 1.4rem;
                font-weight: $bold;
                margin: 0 0 1rem;
                text-transform: none;

                @include breakpoint(medium down) {
                    margin-top: 1.5rem;
                }

                @include breakpoint(small down) {
                    margin-top: 0;
                }
            }

            input {
                background-color: $color-white;
                border: 0;
                color: #969696;
                font-size: 1.4rem;
                font-style: italic;
                font-weight: $light;
                padding: 1.7rem 2rem;

                &::placeholder {
                    color: $color-3--3;
                    font-size: 1.4rem;
                    font-style: normal;
                    font-weight: $light;
                }
            }
        }

        &.-button {
            margin-left: 4.8rem;

            @include breakpoint(medium down) {
                bottom: 0;
                left: 0;
                margin: 0;
                position: absolute;
                width: 100%;
            }

            @include breakpoint(small down) {
                margin: 1.5rem 0 0;
                text-align: center;
            }

            button {
                //@include icon-before($fa-var-check);

                background: rgba($color-white, 0.4);
                border: rgba($color-white, 0.4);
                font-size: 2rem;
                font-weight: $bold;
                height: 12.6rem;
                padding-left: 3rem;
                padding-right: 3rem;
                width: 24rem;

                @include breakpoint(medium down) {
                    height: 7.5rem;
                    width: 100%;
                }

                &::before {
                    content: '';
                    color: $color-1--2;
                    font-size: 1.4rem;
                    font-weight: $normal;
                    margin-right: 0.5rem;
                }

                @include on-event() {
                    background-color: $color-1--2;
                    color: $color-black;

                    &::before {
                        color: $color-black;
                    }
                }
            }
        }
    }

    &__links {
        align-items: flex-start;
        align-self: flex-end;
        display: flex;
        flex-direction: column;
        flex-shrink: 0;
        margin-bottom: 3.4rem;
        margin-left: 1.5rem;

        @include breakpoint(medium down) {
            align-items: flex-start;
            align-self: flex-start;
            display: flex;
            flex-direction: row;
            margin-bottom: 1.5rem;
            margin-top: 0.5rem;
            margin-left: 0;
        }

        @include breakpoint(small down) {
            margin-bottom: 2.5rem;
            margin-top: 0.5rem;
            position: static;
        }
    }

    &__link {
        font-size: 1.3rem;
        font-weight: $normal;

        @include breakpoint(small down) {
            display: inline-block;
        }

        &.-archives {
            margin-right: 3.5rem;

            a {
                //@include icon-before($fa-var-archive);

                &::before {
                    content: '';
                    color: $color-2--1;
                    font-weight: bold;
                }
            }
        }

        &.-unsubscribe {
            a {
                //@include icon-before($fa-var-times);

                &::before {
                    content: '';
                    color: #f66f2c;
                    font-weight: bold;
                }
            }
        }

        a {
            color: $color-black;
            text-decoration: none;

            @include on-event() {
                &::before {
                    color: $color-black;
                }
            }
        }
    }
}
